using System;
using System.Collections.Generic;
using System.Text;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;
using P02Project.Screens;
using P02Project.Utils;
using P02Project.Resources.xml;
using System.Windows.Threading;
using TweetSharp;
using System.Windows.Media.Animation;



namespace P02Project
{
	/// <summary>
	/// Interaction logic for TwitterList.xaml
	/// </summary>
	public partial class TwitterList : UserControl, Animatiable
	{



        private TopLevelPage _topLevelPage;
        private Storyboard _sbIn;

        
        public TwitterList(TopLevelPage top)
		{


			this.InitializeComponent();
            _topLevelPage = top;




            // iterate over the twitter list
            for (int i = 0; i < 50; i++)
            {
                TextBlock txtb = Util.TextBlockFactory();

                txtb.TextWrapping = TextWrapping.Wrap;
                BrushConverter bc = new BrushConverter();
                txtb.Background = i % 2 == 0 ? (Brush)bc.ConvertFrom("#FF073f60") : (Brush)bc.ConvertFrom("#FF4899c8");
                txtb.Foreground = (Brush)bc.ConvertFrom("#FFFFFFFF");
                txtb.Margin = new Thickness(0, 5, 0, 0);
                txtb.Padding = new Thickness(20, 20, 20, 20);

                txtb.Height = 110;
                txtb.FontSize = 20;
                
                // put the twitter text in this variable
                String twitterText = "hello world hello world hello world hello world hello world hello world hello world hello world hello world hello world hello world hello world hello world hello world" + i;
                
                txtb.Inlines.Add(new Run(twitterText));
                _tweetsList.Children.Add(txtb);

            }


            _sbIn = new Storyboard();
            
            Util.FadeIn(_sbIn, _tweetsListScrollViewer);
            Util.StackAnimationDefault(_sbIn, _buttons.Children);
            Util.FadeIn(_sbIn, _ccfTwitterHome);
            Util.FadeIn(_sbIn, _ccfTwitterQR);

		} 




        //??????????????????????????????????????????????????????????????????????????????
        //??????????????????????????????????????????????????????????????????????????????
        //??????????????????????????????????????????????????????????????????????????????
        //??????????????????????????????????????????????????????????????????????????????
        //??????????????????????????????????????????????????????????????????????????????
        /// <summary>
        /// This method get called when the Camera button has been clicked
        /// this is just a temporary button. need to replace with a proper one.
        /// </summary>
        /// <param name="sender"></param>
        /// <param name="e"></param>
        private void openWebcam(Object sender, RoutedEventArgs e)
        {
            Webcam webcam = new Webcam();
            _topLevelPage.setContent(webcam);
            _topLevelPage.setSubtitle("Support Us On Twitter");
        }





        public void AnimateIn()
        {
            _sbIn.Begin(this);
        }

        public void AnimateOut()
        {
        }




	}



}